<!DOCTYPE html>
<!-- saved from url=(0048)http://jadyoap.bj.bcebos.com/ife%2Fmission7.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <title>菜单按钮动画</title>
        <style type="text/css">
            /* Task-1: 按钮动画 */
            .m-task-1 {
                width: 100px;
            }
            .m-task-1 p {
                position: relative;
                display: inline-block;
                -webkit-transition: color 1s ease;
                -moz-transition: color 1s ease;
                -o-transition: color 1s ease;
                transition: color 1s ease;
            }
            /* 下划线 */
            .m-task-1 i {
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                border-top: 2px solid green;
                -webkit-transition: visibility 2s, transform 1s ease;
                -moz-transition: visibility 2s, transform 1s ease;
                -o-transition: visibility 2s, transform 1s ease;
                transition: visibility 2s, transform 1s ease;
            }
            /* 动画 */
            .j-show {
                visibility: visible;
                -webkit-transform: scaleX(1);
                -moz-transform: scaleX(1);
                -ms-transform: scaleX(1);
                -o-transform: scaleX(1);
                transform: scaleX(1);
                filter: progid:DXImageTransform.Microsoft.Matrix(M11=1, M12=0, M21=0, M22=1, SizingMethod='auto expand');
            }
            .j-hide {
                visibility: hidden;
                -webkit-transform: scaleX(0);
                -moz-transform: scaleX(0);
                -ms-transform: scaleX(0);
                -o-transform: scaleX(0);
                transform: scaleX(0);
                filter: progid:DXImageTransform.Microsoft.Matrix(M11=0, M12=0, M21=0, M22=0, SizingMethod='auto expand');
            }
            .s-fc1 {
                color: green;
            }
        </style>
    </head>
    <body style="">
        <section class='m-task-1'>
            <p>前端学院<i class='j-hide'></i></p>
            <button>切换主题</button>
        </section>
    
    <script>
      window.onload = function(){
      
        addButtonEvent();
        
      }
      
      /**
       *
       * Set task-1 button click event/设置任务1中按钮点击事件
       *
       */
      function addButtonEvent(){
        var section = document.getElementsByClassName('m-task-1')[0];
        
        section.addEventListener('click', handle, true);
        // 按钮点击回调函数
        function handle(e){
          var target = e.target || window.event.srcElement;
          
          if(target.tagName === 'BUTTON'){
          
            var p = target.previousElementSibling;
            
            if(/s-fc1/.test(p.className)){
              p.classList.remove('s-fc1');
              p.firstElementChild.classList.remove('j-show');
              p.firstElementChild.classList.add('j-hide');
            }else{
              p.classList.add('s-fc1');
              p.firstElementChild.classList.add('j-show');
              p.firstElementChild.classList.remove('j-hide');
            }
            
          }
        }
        
      }
    </script>
</body></html>
